{"ast":null,"code":"import _defineProperty from \"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"regenerator-runtime/runtime.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport users from '@/services/users.js';\nimport { Axios } from '@/services/axios.js';\nVue.use(Vuex);\n\nvar newPost = function newPost() {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD'\n    },\n    tags: [],\n    title: '',\n    description: '',\n    images: [],\n    comments: []\n  };\n};\n\nvar newStatus = function newStatus() {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD'\n    },\n    tags: [],\n    images: [],\n    comments: []\n  };\n};\n\nvar SetUser = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(id, token) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Axios.get('/users/' + id, {\n              headers: {\n                'Authorization': 'Bearer ' + token\n              }\n            }).then(function (response) {\n              localStorage.setItem('user', JSON.stringify(response.data));\n            }).catch(e);\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function SetUser(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar GetAccessInfo = function GetAccessInfo() {\n  var accessInfo = localStorage.getItem('accessInfo');\n\n  if (accessInfo) {\n    accessInfo = JSON.parse(accessInfo);\n    var exp = new Date(accessInfo.exp);\n    var now = new Date();\n\n    if (accessInfo.token != '' && exp < now) {\n      var user = localStorage.getItem('user');\n\n      if (user == 'undefined' || user == null) {\n        SetUser(accessInfo.id, accessInfo.token);\n      }\n\n      return true;\n    } else return false;\n  } else return false;\n};\n\nvar GetUser = function GetUser() {\n  var user = localStorage.getItem('user');\n\n  if (user !== 'undefined' && user != null) {\n    return JSON.parse(user);\n  }\n\n  return null;\n};\n\nexport default new Vuex.Store({\n  state: {\n    logged: GetAccessInfo(),\n    currentUser: GetUser(),\n    users: [],\n    step: 1,\n    post: newPost(),\n    posts: [newPost()],\n    status: [newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus()],\n    oneStatus: newStatus()\n  },\n  mutations: {\n    nextStep: function nextStep(state) {\n      return state.step++;\n    },\n    backStep: function backStep(state) {\n      return state.step--;\n    },\n    setStep: function setStep(state, payload) {\n      return state.step = payload;\n    },\n    addPost: function addPost(state, payload) {\n      return state.posts.push(payload);\n    },\n    addStatus: function addStatus(state, payload) {\n      return state.status.push(payload);\n    },\n    setCommentPost: function setCommentPost(state, payload) {\n      return state.posts[payload.id].comments.push(payload);\n    },\n    setCommentStatus: function setCommentStatus(state, payload) {\n      return state.status[payload.id].comments.push(payload);\n    },\n    resetPost: function resetPost(state) {\n      return state.post = newPost();\n    },\n    resetStatus: function resetStatus(state) {\n      return state.oneStatus = newStatus();\n    },\n    Register: function Register(state, payload) {\n      var result = users.RegisterUser(payload);\n      result.then(function (response) {\n        state.currentUser = response;\n        localStorage.setItem('user', JSON.stringify(state.currentUser));\n      });\n    },\n    Login: function Login(state, payload) {\n      var result = users.LoginUser(payload);\n      result.then(function (response) {\n        var accessInfo = response;\n        localStorage.setItem('accessInfo', JSON.stringify(accessInfo));\n      });\n    }\n  },\n  actions: {},\n  getters: _defineProperty({\n    getLogged: function getLogged(state) {\n      return state.logged;\n    },\n    getCurrentUser: function getCurrentUser(state) {\n      return state.currentUser;\n    },\n    getPost: function getPost(state) {\n      return state.post;\n    },\n    getStatus: function getStatus(state) {\n      return state.oneStatus;\n    },\n    getPosts: function getPosts(state) {\n      return state.posts;\n    },\n    getStep: function getStep(state) {\n      return state.step;\n    }\n  }, \"getStatus\", function getStatus(state) {\n    return state.status;\n  }),\n  modules: {}\n});","map":{"version":3,"sources":["/Users/anders/Desktop/work/Vue/Posting-app/src/store/index.js"],"names":["Vue","Vuex","users","Axios","use","newPost","id","online","at","liked","state","nber","author","name","foto","tags","title","description","images","comments","newStatus","SetUser","token","get","headers","then","response","localStorage","setItem","JSON","stringify","data","catch","e","GetAccessInfo","accessInfo","getItem","parse","exp","Date","now","user","GetUser","Store","logged","currentUser","step","post","posts","status","oneStatus","mutations","nextStep","backStep","setStep","payload","addPost","push","addStatus","setCommentPost","setCommentStatus","resetPost","resetStatus","Register","result","RegisterUser","Login","LoginUser","actions","getters","getLogged","getCurrentUser","getPost","getStatus","getPosts","getStep","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport users from '@/services/users.js'\nimport {\n  Axios\n} from '@/services/axios.js'\n\nVue.use(Vuex)\n\nconst newPost = function () {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0,\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD',\n    },\n    tags: [],\n    title: '',\n    description: '',\n    images: [],\n    comments: [],\n  }\n}\n\nconst newStatus = function () {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0,\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD',\n    },\n    tags: [],\n    images: [],\n    comments: [],\n  }\n}\n\nconst SetUser =  async function (id ,token) {\n    await  Axios.get('/users/' + id, {\n          headers: {\n            'Authorization': 'Bearer ' + token\n          }\n        })\n        .then(response => {\n          localStorage.setItem('user', JSON.stringify(response.data))\n        })\n        .catch( e)\n}\n\nconst GetAccessInfo = function () {\n  let accessInfo = localStorage.getItem('accessInfo')\n  if (accessInfo) {\n    accessInfo = JSON.parse(accessInfo)\n    let exp = new Date(accessInfo.exp)\n    let now = new Date()\n    if (accessInfo.token != '' && exp < now) {\n      let user = localStorage.getItem('user')\n      if (user == 'undefined' || user ==null) {\n        SetUser(accessInfo.id , accessInfo.token)\n      } \n      return true\n    } else return false\n  } else return false\n}\n\n\nconst GetUser= function (){\n  let user = localStorage.getItem('user')\n  if(user!=='undefined' && user!=null){\n    return JSON.parse(user)\n  }\n  return null\n}\n\n\n\n\nexport default new Vuex.Store({\n  state: {\n    logged: GetAccessInfo(),\n    currentUser: GetUser(),\n    users: [],\n    step: 1,\n    post: newPost(),\n    posts: [\n      newPost(),\n    ],\n    status: [\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n    ],\n    oneStatus: newStatus(),\n  },\n  mutations: {\n    nextStep: state => state.step++,\n    backStep: state => state.step--,\n    setStep: (state, payload) => (state.step = payload),\n    addPost: (state, payload) => (state.posts.push(payload)),\n    addStatus: (state, payload) => (state.status.push(payload)),\n    setCommentPost: (state, payload) => (state.posts[payload.id].comments.push(payload)),\n    setCommentStatus: (state, payload) => (state.status[payload.id].comments.push(payload)),\n    resetPost: state => state.post = newPost(),\n    resetStatus: state => state.oneStatus = newStatus(),\n    Register: (state, payload) => {\n      let result = users.RegisterUser(payload)\n      result.then(response => {\n        state.currentUser = response\n        localStorage.setItem('user', JSON.stringify(state.currentUser))\n      })\n\n    },\n    Login: (state, payload) => {\n      let result = users.LoginUser(payload)\n      result.then(response => {\n        let accessInfo = response\n        localStorage.setItem('accessInfo', JSON.stringify(accessInfo))\n      })\n    }\n  },\n  actions: {},\n  getters: {\n    getLogged: state => state.logged,\n    getCurrentUser: state => state.currentUser,\n    getPost: state => state.post,\n    getStatus: state => state.oneStatus,\n    getPosts: state => state.posts,\n    getStep: state => state.step,\n    getStatus: state => state.status\n  },\n\n  modules: {}\n})"]},"metadata":{},"sourceType":"module"}