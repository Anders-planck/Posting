{"ast":null,"code":"import _asyncToGenerator from \"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"regenerator-runtime/runtime.js\";\nimport { GetAccessInfo, GetUser, RegisterUser, LoginUser } from '@/services/UsersServices.js';\nimport router from '../../router';\nexport default {\n  state: {\n    logged: GetAccessInfo(),\n    currentUser: GetUser(),\n    users: []\n  },\n  mutations: {\n    Register: function () {\n      var _Register = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(state, payload) {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return RegisterUser(payload);\n\n              case 2:\n                result = _context.sent;\n                state.currentUser = result;\n                localStorage.setItem('user', JSON.stringify(state.currentUser));\n                router.push('login');\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function Register(_x, _x2) {\n        return _Register.apply(this, arguments);\n      }\n\n      return Register;\n    }(),\n    Login: function () {\n      var _Login = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(state, payload) {\n        var result;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return LoginUser(payload);\n\n              case 2:\n                result = _context2.sent;\n                console.log(result);\n                localStorage.setItem('accessInfo', JSON.stringify(result));\n                state.logged = GetAccessInfo();\n                router.push('/');\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function Login(_x3, _x4) {\n        return _Login.apply(this, arguments);\n      }\n\n      return Login;\n    }()\n  },\n  actions: {\n    RegisterUser: function RegisterUser(_ref, data) {\n      var commit = _ref.commit;\n      Axios.post('users', data).then(function (response) {\n        commit();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  },\n  getters: {\n    getLogged: function getLogged(state) {\n      return state.logged;\n    },\n    getCurrentUser: function getCurrentUser(state) {\n      return state.currentUser;\n    },\n    getUsers: function getUsers(state) {\n      return state.users;\n    }\n  }\n};","map":{"version":3,"sources":["/Users/anders/Desktop/work/Vue/Posting-app/src/store/modules/users.js"],"names":["GetAccessInfo","GetUser","RegisterUser","LoginUser","router","state","logged","currentUser","users","mutations","Register","payload","result","localStorage","setItem","JSON","stringify","push","Login","console","log","actions","data","commit","Axios","post","then","response","catch","error","getters","getLogged","getCurrentUser","getUsers"],"mappings":";;AAAA,SACIA,aADJ,EAEIC,OAFJ,EAGIC,YAHJ,EAIIC,SAJJ,QAKO,6BALP;AAMA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,eAAe;AACXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAEN,aAAa,EADlB;AAEHO,IAAAA,WAAW,EAAEN,OAAO,EAFjB;AAGHO,IAAAA,KAAK,EAAE;AAHJ,GADI;AAMXC,EAAAA,SAAS,EAAE;AACPC,IAAAA,QAAQ;AAAA,8EAAE,iBAAOL,KAAP,EAAcM,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACaT,YAAY,CAACS,OAAD,CADzB;;AAAA;AACFC,gBAAAA,MADE;AAENP,gBAAAA,KAAK,CAACE,WAAN,GAAoBK,MAApB;AACAC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeX,KAAK,CAACE,WAArB,CAA7B;AACAH,gBAAAA,MAAM,CAACa,IAAP,CAAY,OAAZ;;AAJM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADD;AAOPC,IAAAA,KAAK;AAAA,2EAAE,kBAAOb,KAAP,EAAcM,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACgBR,SAAS,CAACQ,OAAD,CADzB;;AAAA;AACCC,gBAAAA,MADD;AAEHO,gBAAAA,OAAO,CAACC,GAAR,CAAYR,MAAZ;AACAC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeJ,MAAf,CAAnC;AACAP,gBAAAA,KAAK,CAACC,MAAN,GAAeN,aAAa,EAA5B;AACAI,gBAAAA,MAAM,CAACa,IAAP,CAAY,GAAZ;;AALG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAPE,GANA;AAsBXI,EAAAA,OAAO,EAAE;AACLnB,IAAAA,YADK,8BACiBoB,IADjB,EACuB;AAAA,UAAdC,MAAc,QAAdA,MAAc;AACpBC,MAAAA,KAAK,CAACC,IAAN,CAAW,OAAX,EAAoBH,IAApB,EACCI,IADD,CACM,UAAAC,QAAQ,EAAI;AACdJ,QAAAA,MAAM;AACT,OAHD,EAICK,KAJD,CAIQ,UAAAC,KAAK,EAAI;AAACV,QAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AAAmB,OAJrC;AAMP;AARI,GAtBE;AAgCXC,EAAAA,OAAO,EAAE;AACLC,IAAAA,SAAS,EAAE,mBAAA1B,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAV;AAAA,KADX;AAEL0B,IAAAA,cAAc,EAAE,wBAAA3B,KAAK;AAAA,aAAIA,KAAK,CAACE,WAAV;AAAA,KAFhB;AAGL0B,IAAAA,QAAQ,EAAE,kBAAA5B,KAAK;AAAA,aAAGA,KAAK,CAACG,KAAT;AAAA;AAHV;AAhCE,CAAf","sourcesContent":["import {\n    GetAccessInfo,\n    GetUser,\n    RegisterUser,\n    LoginUser\n} from '@/services/UsersServices.js'\nimport router from '../../router'\n\nexport default {\n    state: {\n        logged: GetAccessInfo(),\n        currentUser: GetUser(),\n        users: [],\n    },\n    mutations: {\n        Register: async (state, payload) => {\n            let result = await RegisterUser(payload)\n            state.currentUser = result\n            localStorage.setItem('user', JSON.stringify(state.currentUser))\n            router.push('login')\n        },\n        Login: async (state, payload) => {\n            let result = await LoginUser(payload)\n            console.log(result)\n            localStorage.setItem('accessInfo', JSON.stringify(result))\n            state.logged = GetAccessInfo()\n            router.push('/')\n\n        }\n    },\n    actions: {\n        RegisterUser({commit},data) {\n                Axios.post('users', data)\n                .then(response => {\n                    commit()\n                })\n                .catch( error => {console.log(error)})\n            \n        }\n    },\n    getters: {\n        getLogged: state => state.logged,\n        getCurrentUser: state => state.currentUser,\n        getUsers: state=> state.users,\n    },\n}"]},"metadata":{},"sourceType":"module"}