{"ast":null,"code":"import _asyncToGenerator from \"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"regenerator-runtime/runtime.js\";\nimport '@/services/users.js';\nexport default {\n  state: {\n    logged: users.GetAccessInfo(),\n    currentUser: GetUser(),\n    users: []\n  },\n  mutations: {\n    Register: function () {\n      var _Register = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(state, payload) {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return RegisterUser(payload);\n\n              case 2:\n                result = _context.sent;\n                state.currentUser = result;\n                localStorage.setItem('user', JSON.stringify(state.currentUser));\n                router.push('login');\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function Register(_x, _x2) {\n        return _Register.apply(this, arguments);\n      }\n\n      return Register;\n    }(),\n    Login: function () {\n      var _Login = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(state, payload) {\n        var result;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return users.LoginUser(payload);\n\n              case 2:\n                result = _context2.sent;\n                console.log(result);\n                localStorage.setItem('accessInfo', JSON.stringify(result));\n                state.logged = users.GetAccessInfo();\n                router.push('/');\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function Login(_x3, _x4) {\n        return _Login.apply(this, arguments);\n      }\n\n      return Login;\n    }()\n  },\n  actions: {},\n  getters: {\n    getLogged: function getLogged(state) {\n      return state.logged;\n    },\n    getCurrentUser: function getCurrentUser(state) {\n      return state.currentUser;\n    },\n    getStatus: function getStatus(state) {\n      return state.status;\n    }\n  }\n};","map":{"version":3,"sources":["/Users/anders/Desktop/work/Vue/Posting-app/src/store/module/users.js"],"names":["state","logged","users","GetAccessInfo","currentUser","GetUser","mutations","Register","payload","RegisterUser","result","localStorage","setItem","JSON","stringify","router","push","Login","LoginUser","console","log","actions","getters","getLogged","getCurrentUser","getStatus","status"],"mappings":";;AAAA,OAAe,qBAAf;AAEA,eAAc;AACVA,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAEC,KAAK,CAACC,aAAN,EADL;AAEHC,IAAAA,WAAW,EAAEC,OAAO,EAFjB;AAGHH,IAAAA,KAAK,EAAE;AAHJ,GADG;AAMVI,EAAAA,SAAS,EAAE;AACPC,IAAAA,QAAQ;AAAA,8EAAE,iBAAOP,KAAP,EAAcQ,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACSC,YAAY,CAACD,OAAD,CADrB;;AAAA;AACNE,gBAAAA,MADM;AAEVV,gBAAAA,KAAK,CAACI,WAAN,GAAoBM,MAApB;AACCC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAed,KAAK,CAACI,WAArB,CAA7B;AACAW,gBAAAA,MAAM,CAACC,IAAP,CAAY,OAAZ;;AAJS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADD;AAOPC,IAAAA,KAAK;AAAA,2EAAE,kBAAOjB,KAAP,EAAcQ,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACcN,KAAK,CAACgB,SAAN,CAAgBV,OAAhB,CADd;;AAAA;AACDE,gBAAAA,MADC;AAELS,gBAAAA,OAAO,CAACC,GAAR,CAAYV,MAAZ;AACAC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeJ,MAAf,CAAnC;AACAV,gBAAAA,KAAK,CAACC,MAAN,GAAaC,KAAK,CAACC,aAAN,EAAb;AACAY,gBAAAA,MAAM,CAACC,IAAP,CAAY,GAAZ;;AALK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAPE,GAND;AAsBRK,EAAAA,OAAO,EAAE,EAtBD;AAuBRC,EAAAA,OAAO,EAAE;AACPC,IAAAA,SAAS,EAAE,mBAAAvB,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAV;AAAA,KADT;AAEPuB,IAAAA,cAAc,EAAE,wBAAAxB,KAAK;AAAA,aAAIA,KAAK,CAACI,WAAV;AAAA,KAFd;AAGPqB,IAAAA,SAAS,EAAE,mBAAAzB,KAAK;AAAA,aAAIA,KAAK,CAAC0B,MAAV;AAAA;AAHT;AAvBD,CAAd","sourcesContent":["import {} from '@/services/users.js'\n\nexport default{\n    state: {\n        logged: users.GetAccessInfo(),\n        currentUser: GetUser(),\n        users: [],\n    },\n    mutations: {\n        Register: async (state, payload) => {\n        let result = await RegisterUser(payload)\n        state.currentUser = result\n         localStorage.setItem('user', JSON.stringify(state.currentUser))\n         router.push('login')\n        },\n        Login: async (state, payload) => {\n          let result = await users.LoginUser(payload)\n          console.log(result)\n          localStorage.setItem('accessInfo', JSON.stringify(result))\n          state.logged=users.GetAccessInfo()\n          router.push('/')\n    \n        }\n      },\n      actions: {},\n      getters: {\n        getLogged: state => state.logged,\n        getCurrentUser: state => state.currentUser,\n        getStatus: state => state.status\n      },\n}"]},"metadata":{},"sourceType":"module"}