{"ast":null,"code":"import _defineProperty from \"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport users from '@/services/users.js';\nimport { Axios } from '@/services/axios.js';\nVue.use(Vuex);\n\nvar newPost = function newPost() {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD'\n    },\n    tags: [],\n    title: '',\n    description: '',\n    images: [],\n    comments: []\n  };\n};\n\nvar newStatus = function newStatus() {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD'\n    },\n    tags: [],\n    images: [],\n    comments: []\n  };\n};\n\nvar GetUser = function GetUser() {\n  var user = localStorage.getItem('user');\n\n  if (user != 'undefined') {\n    retunuser = JSON.parse(user);\n  }\n\n  var accessInfo = localStorage.getItem('accessInfo');\n  if (accessInfo) accessInfo = JSON.parse(accessInfo);\n  var exp = new Date(accessInfo.exp);\n  var now = new Date();\n\n  if (accessInfo.token != '' && exp < now) {\n    Axios.get('/users/' + accessInfo.user_id, {\n      headers: {\n        'Authorization': 'Bearer ' + accessInfo.token\n      }\n    }).then(function (response) {\n      user = response.data;\n      console.log(response.data);\n      localStorage.setItem('user', JSON.stringify(user));\n    });\n    return user;\n  }\n};\n\nvar GetAccessInfo = function GetAccessInfo() {\n  var accessInfo = localStorage.getItem('accessInfo');\n\n  if (accessInfo) {\n    accessInfo = JSON.parse(accessInfo);\n    var exp = new Date(accessInfo.exp);\n    var now = new Date();\n\n    if (accessInfo.token != '' && exp < now) {\n      var user = GetUser();\n      return true;\n    } else return false;\n  } else return false;\n};\n\nexport default new Vuex.Store({\n  state: {\n    logged: GetAccessInfo(),\n    currentUser: GetUser(),\n    users: [],\n    step: 1,\n    post: newPost(),\n    posts: [newPost()],\n    status: [newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus()],\n    oneStatus: newStatus()\n  },\n  mutations: {\n    nextStep: function nextStep(state) {\n      return state.step++;\n    },\n    backStep: function backStep(state) {\n      return state.step--;\n    },\n    setStep: function setStep(state, payload) {\n      return state.step = payload;\n    },\n    addPost: function addPost(state, payload) {\n      return state.posts.push(payload);\n    },\n    addStatus: function addStatus(state, payload) {\n      return state.status.push(payload);\n    },\n    setCommentPost: function setCommentPost(state, payload) {\n      return state.posts[payload.id].comments.push(payload);\n    },\n    setCommentStatus: function setCommentStatus(state, payload) {\n      return state.status[payload.id].comments.push(payload);\n    },\n    resetPost: function resetPost(state) {\n      return state.post = newPost();\n    },\n    resetStatus: function resetStatus(state) {\n      return state.oneStatus = newStatus();\n    },\n    Register: function Register(state, payload) {\n      var result = users.RegisterUser(payload);\n      result.then(function (response) {\n        state.currentUser = response;\n        localStorage.setItem('user', JSON.stringify(state.currentUser));\n      });\n    },\n    Login: function Login(state, payload) {\n      var result = users.LoginUser(payload);\n      result.then(function (response) {\n        var accessInfo = response;\n        localStorage.setItem('accessInfo', JSON.stringify(accessInfo));\n      });\n    }\n  },\n  actions: {},\n  getters: _defineProperty({\n    getLogged: function getLogged(state) {\n      return state.logged;\n    },\n    getCurrentUser: function getCurrentUser(state) {\n      return state.currentUser;\n    },\n    getPost: function getPost(state) {\n      return state.post;\n    },\n    getStatus: function getStatus(state) {\n      return state.oneStatus;\n    },\n    getPosts: function getPosts(state) {\n      return state.posts;\n    },\n    getStep: function getStep(state) {\n      return state.step;\n    }\n  }, \"getStatus\", function getStatus(state) {\n    return state.status;\n  }),\n  modules: {}\n});","map":{"version":3,"sources":["/Users/anders/Desktop/work/Vue/Posting-app/src/store/index.js"],"names":["Vue","Vuex","users","Axios","use","newPost","id","online","at","liked","state","nber","author","name","foto","tags","title","description","images","comments","newStatus","GetUser","user","localStorage","getItem","retunuser","JSON","parse","accessInfo","exp","Date","now","token","get","user_id","headers","then","response","data","console","log","setItem","stringify","GetAccessInfo","Store","logged","currentUser","step","post","posts","status","oneStatus","mutations","nextStep","backStep","setStep","payload","addPost","push","addStatus","setCommentPost","setCommentStatus","resetPost","resetStatus","Register","result","RegisterUser","Login","LoginUser","actions","getters","getLogged","getCurrentUser","getPost","getStatus","getPosts","getStep","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport users from '@/services/users.js'\nimport {Axios} from '@/services/axios.js'\n\nVue.use(Vuex)\n\nconst newPost= function (){\n  return {\n    id:null,\n    online:false,\n    at:\"\",\n    liked:{\n      state:false,\n      nber:0,\n    },\n    author:{\n      name:'Planck Anders',\n      foto:'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD',\n    },\n    tags:[],\n    title:'',\n    description:'',\n    images:[],\n    comments:[],\n  }\n}\n\nconst newStatus= function (){\n  return {\n    id:null,\n    online:false,\n    at:\"\",\n    liked:{\n      state:false,\n      nber:0,\n    },\n    author:{\n      name:'Planck Anders',\n      foto:'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD',\n    },\n    tags:[],\n    images:[],\n    comments:[],\n  }\n}\n\nconst GetUser=  function () {\n  let user= localStorage.getItem('user')\n  \n    if(user!='undefined'){\n      retunuser= JSON.parse(user)\n    }\n    let accessInfo= localStorage.getItem('accessInfo')\n    if (accessInfo) accessInfo= JSON.parse(accessInfo)\n    let exp= new Date(accessInfo.exp)\n    let now= new Date()\n\n    if(accessInfo.token!='' && exp < now){\n      \n      Axios.get('/users/'+accessInfo.user_id,{\n        headers: {\n          'Authorization': 'Bearer '+ accessInfo.token\n        }\n      })\n      .then(response => {\n        user= response.data\n        console.log(response.data)\n        localStorage.setItem('user', JSON.stringify(user))\n      })\n      return user\n  }\n}\n\nconst GetAccessInfo=  function () {\n  let accessInfo= localStorage.getItem('accessInfo')\n  if (accessInfo){\n     accessInfo= JSON.parse(accessInfo)\n     let exp= new Date(accessInfo.exp)\n     let now= new Date()\n     if(accessInfo.token!='' && exp < now) {\n      let user=GetUser() \n      return true\n    }else return false\n  }else return false\n}\n\n\n\nexport default new Vuex.Store({\n  state: {\n    logged: GetAccessInfo(),\n    currentUser: GetUser(),\n    users:[],\n    step:1,\n    post:newPost(),\n    posts:[\n      newPost(),\n    ],\n    status:[\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n    ],\n    oneStatus: newStatus(),\n  },\n  mutations: {\n    nextStep: state => state.step++,\n    backStep: state => state.step--,\n    setStep: (state,payload) =>( state.step= payload),\n    addPost: (state, payload) => (state.posts.push(payload)),\n    addStatus: (state, payload) => (state.status.push(payload)),\n    setCommentPost: (state,payload) => (state.posts[payload.id].comments.push(payload)),\n    setCommentStatus: (state,payload) => (state.status[payload.id].comments.push(payload)),\n    resetPost: state => state.post= newPost(),\n    resetStatus : state=> state.oneStatus=newStatus(),\n    Register: (state,payload) => {\n      let result=users.RegisterUser(payload)\n      result.then(response=>{\n        state.currentUser=response\n        localStorage.setItem('user', JSON.stringify(state.currentUser))\n      })\n      \n    },\n    Login: (state,payload) => {\n      let result=users.LoginUser(payload)\n      result.then(response=>{\n        let accessInfo= response\n        localStorage.setItem('accessInfo', JSON.stringify(accessInfo))\n      })\n    }\n  },\n  actions: {\n  },\n  getters:{\n    getLogged: state => state.logged,\n    getCurrentUser: state => state.currentUser,\n    getPost: state => state.post,\n    getStatus: state => state.oneStatus, \n    getPosts: state => state.posts,\n    getStep: state => state.step,\n    getStatus: state => state.status\n  },\n\n  modules: {  }\n})\n"]},"metadata":{},"sourceType":"module"}