{"ast":null,"code":"import _defineProperty from \"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"regenerator-runtime/runtime.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport users from '@/services/users.js';\nimport { Axios } from '@/services/axios.js';\nVue.use(Vuex);\n\nvar newPost = function newPost() {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD'\n    },\n    tags: [],\n    title: '',\n    description: '',\n    images: [],\n    comments: []\n  };\n};\n\nvar newStatus = function newStatus() {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD'\n    },\n    tags: [],\n    images: [],\n    comments: []\n  };\n};\n\nvar SetUser = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(id, token) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Axios.get('/users/' + id, {\n              headers: {\n                'Authorization': 'Bearer ' + token\n              }\n            }).then(function (response) {\n              localStorage.setItem('user', JSON.stringify(response.data));\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function SetUser(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar GetAccessInfo = function GetAccessInfo() {\n  var accessInfo = localStorage.getItem('accessInfo');\n\n  if (accessInfo) {\n    accessInfo = JSON.parse(accessInfo);\n    var exp = new Date(accessInfo.exp);\n    var now = new Date();\n\n    if (accessInfo.token != '' && exp < now) {\n      var user = localStorage.getItem('user');\n\n      if (user == 'undefined' || user == null) {\n        SetUser(accessInfo.id, accessInfo.token);\n      }\n\n      return true;\n    } else return false;\n  } else return false;\n};\n\nvar GetUser = function GetUser() {\n  var user = localStorage.getItem('user');\n\n  if (user !== 'undefined' && user != null) {\n    return JSON.parse(user);\n  }\n\n  return;\n};\n\nexport default new Vuex.Store({\n  state: {\n    logged: GetAccessInfo(),\n    currentUser: GetUser(),\n    users: [],\n    step: 1,\n    post: newPost(),\n    posts: [newPost()],\n    status: [newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus(), newStatus()],\n    oneStatus: newStatus()\n  },\n  mutations: {\n    nextStep: function nextStep(state) {\n      return state.step++;\n    },\n    backStep: function backStep(state) {\n      return state.step--;\n    },\n    setStep: function setStep(state, payload) {\n      return state.step = payload;\n    },\n    addPost: function addPost(state, payload) {\n      return state.posts.push(payload);\n    },\n    addStatus: function addStatus(state, payload) {\n      return state.status.push(payload);\n    },\n    setCommentPost: function setCommentPost(state, payload) {\n      return state.posts[payload.id].comments.push(payload);\n    },\n    setCommentStatus: function setCommentStatus(state, payload) {\n      return state.status[payload.id].comments.push(payload);\n    },\n    resetPost: function resetPost(state) {\n      return state.post = newPost();\n    },\n    resetStatus: function resetStatus(state) {\n      return state.oneStatus = newStatus();\n    },\n    Register: function Register(state, payload) {\n      var result = users.RegisterUser(payload);\n      result.then(function (response) {\n        state.currentUser = response;\n        localStorage.setItem('user', JSON.stringify(state.currentUser));\n      });\n    },\n    Login: function Login(state, payload) {\n      var result = users.LoginUser(payload);\n      result.then(function (response) {\n        var accessInfo = response;\n        localStorage.setItem('accessInfo', JSON.stringify(accessInfo));\n      });\n    }\n  },\n  actions: {},\n  getters: _defineProperty({\n    getLogged: function getLogged(state) {\n      return state.logged;\n    },\n    getCurrentUser: function getCurrentUser(state) {\n      return state.currentUser;\n    },\n    getPost: function getPost(state) {\n      return state.post;\n    },\n    getStatus: function getStatus(state) {\n      return state.oneStatus;\n    },\n    getPosts: function getPosts(state) {\n      return state.posts;\n    },\n    getStep: function getStep(state) {\n      return state.step;\n    }\n  }, \"getStatus\", function getStatus(state) {\n    return state.status;\n  }),\n  modules: {}\n});","map":{"version":3,"sources":["/Users/anders/Desktop/work/Vue/Posting-app/src/store/index.js"],"names":["Vue","Vuex","users","Axios","use","newPost","id","online","at","liked","state","nber","author","name","foto","tags","title","description","images","comments","newStatus","SetUser","token","get","headers","then","response","localStorage","setItem","JSON","stringify","data","GetAccessInfo","accessInfo","getItem","parse","exp","Date","now","user","GetUser","Store","logged","currentUser","step","post","posts","status","oneStatus","mutations","nextStep","backStep","setStep","payload","addPost","push","addStatus","setCommentPost","setCommentStatus","resetPost","resetStatus","Register","result","RegisterUser","Login","LoginUser","actions","getters","getLogged","getCurrentUser","getPost","getStatus","getPosts","getStep","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport users from '@/services/users.js'\nimport {\n  Axios\n} from '@/services/axios.js'\n\nVue.use(Vuex)\n\nconst newPost = function () {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0,\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD',\n    },\n    tags: [],\n    title: '',\n    description: '',\n    images: [],\n    comments: [],\n  }\n}\n\nconst newStatus = function () {\n  return {\n    id: null,\n    online: false,\n    at: \"\",\n    liked: {\n      state: false,\n      nber: 0,\n    },\n    author: {\n      name: 'Planck Anders',\n      foto: 'https://scontent-mxp1-1.xx.fbcdn.net/v/t1.6435-9/69245733_725030284603206_5683149216247971840_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=2wstdYB3PNQAX89jAUm&tn=L8SKpZX-hIdGHkiX&_nc_ht=scontent-mxp1-1.xx&oh=9067fd6a9e1a4aa9a72add11944ddd40&oe=614F37FD',\n    },\n    tags: [],\n    images: [],\n    comments: [],\n  }\n}\n\nconst SetUser =  async function (id ,token) {\n    await  Axios.get('/users/' + id, {\n          headers: {\n            'Authorization': 'Bearer ' + token\n          }\n        })\n        .then(response => {\n          localStorage.setItem('user', JSON.stringify(response.data))\n        })\n}\n\nconst GetAccessInfo = function () {\n  let accessInfo = localStorage.getItem('accessInfo')\n  if (accessInfo) {\n    accessInfo = JSON.parse(accessInfo)\n    let exp = new Date(accessInfo.exp)\n    let now = new Date()\n    if (accessInfo.token != '' && exp < now) {\n      let user = localStorage.getItem('user')\n      if (user == 'undefined' || user ==null) {\n        SetUser(accessInfo.id , accessInfo.token)\n      } \n      return true\n    } else return false\n  } else return false\n}\n\n\nconst GetUser= function (){\n  let user = localStorage.getItem('user')\n  if(user!=='undefined' && user!=null){\n    return JSON.parse(user)\n  }\n  return \n}\n\n\n\n\nexport default new Vuex.Store({\n  state: {\n    logged: GetAccessInfo(),\n    currentUser: GetUser(),\n    users: [],\n    step: 1,\n    post: newPost(),\n    posts: [\n      newPost(),\n    ],\n    status: [\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n      newStatus(),\n    ],\n    oneStatus: newStatus(),\n  },\n  mutations: {\n    nextStep: state => state.step++,\n    backStep: state => state.step--,\n    setStep: (state, payload) => (state.step = payload),\n    addPost: (state, payload) => (state.posts.push(payload)),\n    addStatus: (state, payload) => (state.status.push(payload)),\n    setCommentPost: (state, payload) => (state.posts[payload.id].comments.push(payload)),\n    setCommentStatus: (state, payload) => (state.status[payload.id].comments.push(payload)),\n    resetPost: state => state.post = newPost(),\n    resetStatus: state => state.oneStatus = newStatus(),\n    Register: (state, payload) => {\n      let result = users.RegisterUser(payload)\n      result.then(response => {\n        state.currentUser = response\n        localStorage.setItem('user', JSON.stringify(state.currentUser))\n      })\n\n    },\n    Login: (state, payload) => {\n      let result = users.LoginUser(payload)\n      result.then(response => {\n        let accessInfo = response\n        localStorage.setItem('accessInfo', JSON.stringify(accessInfo))\n      })\n    }\n  },\n  actions: {},\n  getters: {\n    getLogged: state => state.logged,\n    getCurrentUser: state => state.currentUser,\n    getPost: state => state.post,\n    getStatus: state => state.oneStatus,\n    getPosts: state => state.posts,\n    getStep: state => state.step,\n    getStatus: state => state.status\n  },\n\n  modules: {}\n})"]},"metadata":{},"sourceType":"module"}