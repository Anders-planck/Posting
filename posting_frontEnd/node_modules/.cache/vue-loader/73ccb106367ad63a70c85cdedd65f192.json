{"remainingRequest":"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!/Users/anders/Desktop/work/Vue/Posting-app/src/components/Posts/Post.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anders/Desktop/work/Vue/Posting-app/src/components/Posts/Post.vue","mtime":1634925220587},{"path":"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/babel-loader/lib/index.js","mtime":1630480653052},{"path":"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/cache-loader/dist/cjs.js","mtime":1630480667405},{"path":"/Users/anders/Desktop/work/Vue/Posting-app/node_modules/@vue/vue-loader-v15/lib/index.js","mtime":1630480667143}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbWFnZVZpZXcgZnJvbSAnQC9jb21wb25lbnRzL1Bvc3RzL0ltYWdlVmlldycKaW1wb3J0IFBvc3REZXNjcmlwdGlvbiBmcm9tICAnQC9jb21wb25lbnRzL1Bvc3RzL1Bvc3REZXNjcmlwdGlvbicKaW1wb3J0IFBvc3RUaXRsZSBmcm9tICdAL2NvbXBvbmVudHMvUG9zdHMvUG9zdFRpdGxlJwppbXBvcnQgUG9zdEZvb3RlciBmcm9tICdAL2NvbXBvbmVudHMvUG9zdHMvUG9zdEZvb3RlcicKaW1wb3J0IFBvc3RBdXRob3JJbmZvIGZyb20gJ0AvY29tcG9uZW50cy9Qb3N0cy9Qb3N0QXV0aG9ySW5mbycKaW1wb3J0IFBvc3RDb21tZW50IGZyb20gJ0AvY29tcG9uZW50cy9Qb3N0cy9Qb3N0Q29tbWVudCcKaW1wb3J0IFNlbmRJY29uIGZyb20gJ0AvY29tcG9uZW50cy9JY29ucy9TZW5kSWNvbicKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyIKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTonUG9zdCcsCiAgICBwcm9wczp7CiAgICAgICAgcG9zdDp7CiAgICAgICAgICAgIHR5cGU6T2JqZWN0LAogICAgICAgICAgICByZXF1aXJlOnRydWUKICAgICAgICB9LAogICAgICAgIHN0YXRlOnsKICAgICAgICAgICAgdHlwZTpTdHJpbmcsCiAgICAgICAgICAgIHJlcXVpcmU6ZmFsc2UsCiAgICAgICAgICAgIGRlZmF1bHQ6J3ZpZXcnCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6ewogICAgICAgIEltYWdlVmlldywKICAgICAgICBQb3N0RGVzY3JpcHRpb24sCiAgICAgICAgUG9zdFRpdGxlLAogICAgICAgIFBvc3RGb290ZXIsCiAgICAgICAgUG9zdEF1dGhvckluZm8sCiAgICAgICAgUG9zdENvbW1lbnQsCiAgICAgICAgU2VuZEljb24KICAgIH0sCiAgY3JlYXRlZCgpIHsKICAgIGF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZSgKICAgICAgKGNvbmZpZykgPT4gewogICAgICAgIHRoaXMuc2V0TG9hZGluZyh0cnVlKTsKICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZzsKICAgICAgICByZXR1cm4gY29uZmlnOwogICAgICB9LAogICAgICAoZXJyb3IpID0+IHsKICAgICAgICB0aGlzLnNldExvYWRpbmcoZmFsc2UpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0KICAgICk7CgogICAgYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgKICAgICAgKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgICB0aGlzLnJlcyA9IHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgfSwKICAgICAgKGVycm9yKSA9PiB7CiAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9CiAgICApOwogIH0sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBwbGFjZWhvbGRlcjond3JpdGUgeW91ciBjb21tZW50IGhlcmUgOikgLi4uJywKICAgICAgICAgICAgY29tbWVudDonJywKICAgICAgICAgICAgc2hvd0FyZWFDb21tZW50OmZhbHNlLAogICAgICAgICAgICByZWZDb3VudDogMCwKICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgY29uZmlnOiBudWxsLAogICAgICAgICAgICByZXM6IG51bGwsCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOnsKICAgICAgICBkYXRlT2ZQb3N0KCl7CiAgICAgICAgICAgIHJldHVybiBtb21lbnQodGhpcy5wb3N0LmNyZWF0ZWRfYXQpLmZvcm1hdCgnREQtTU0tWVksIGhoOm1tJykKICAgICAgICB9LAogICAgICAgIHVzZXIoKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q3VycmVudFVzZXIKICAgICAgICB9CiAgICAgICAgCiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgdG9vZ2xlQXJlYUNvbW1lbnQoKXsKICAgICAgICAgICAgdGhpcy5zaG93QXJlYUNvbW1lbnQ9IXRoaXMuc2hvd0FyZWFDb21tZW50CiAgICAgICAgfSwKICAgICAgICBhZGRDb21tZW50KCl7CiAgICAgICAgICAgIGlmKHRoaXMuY29tbWVudD09PScnKSByZXR1cm4gCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBwb3N0X2lkOiB0aGlzLiRwcm9wcy5wb3N0LmlkLAogICAgICAgICAgICAgICAgYm9keTp0aGlzLmNvbW1lbnQsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jb21tZW50PScnCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZGRDb21tZW50UG9zdCcsZGF0YSk7CiAgICAgICAgfSwKICAgICAgICBpc0F1dGhvcnMoY29tbWVudCl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb21tZW50IC0tLS0nLGNvbW1lbnQpCiAgICAgICAgICAgIGlmKCBjb21tZW50LnVzZXIuaWQgPT09IHRoaXMudXNlci5pZCkgcmV0dXJuICdpc1VzZXInCiAgICAgICAgICAgIGVsc2UgcmV0dXJuICcnCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Post.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Post.vue","sourceRoot":"src/components/Posts","sourcesContent":["<template>\n    <div class=\"post\">\n        <ImageView  state=\"list\" v-if=\"post.images.length>0 && state!='create'\" :image=\"post\" :images=\"post.images\" />\n        <div class=\"p-2\">\n            <div class=\"info\">\n                <PostAuthorInfo :post=\"post\" />\n            </div>\n\n            <div class=\"info\">\n                <PostTitle v-if=\"post.title\" :title=\"post.title\" />\n                <PostDescription :state=\"state\" :description=\"post.description\" />\n            </div>\n\n            <div v-if=\"state!='create'\" class=\"footer\">\n                <PostFooter :reply=\"post.comments\" :at=\"dateOfPost\" :like=\"post.liked\"\n                    @toogleStateComments=\"toogleAreaComment\" />\n            </div>\n        </div>\n        <transition name=\"commentArea\" appear\n            enter-active-class=\"animate__animated animate__fadeInDown animate__bouncIn\"\n            leave-active-class=\"animate__animated animate__bounceOut\">\n            <div class=\"comments\" v-if=\"showAreaComment\">\n                <div class=\"listPostComment\">\n                    \n                    <PostComment  v-for=\"(comment,index) in post.comments\" :classComment=\"isAuthors(comment)\" :comment=\"comment\"\n                        :key=\"index\" />\n                </div>\n                <form @submit.prevent=\"addComment\" class=\"form\">\n                    <input class=\"textarea\" type=\"text\" v-model=\"comment\" :placeholder=\"placeholder\" />\n                    <button class=\"Send\">\n                        <SendIcon size=\"15px\" />\n                    </button>\n                </form>\n            </div>\n        </transition>\n    </div>\n</template>\n\n<script>\nimport ImageView from '@/components/Posts/ImageView'\nimport PostDescription from  '@/components/Posts/PostDescription'\nimport PostTitle from '@/components/Posts/PostTitle'\nimport PostFooter from '@/components/Posts/PostFooter'\nimport PostAuthorInfo from '@/components/Posts/PostAuthorInfo'\nimport PostComment from '@/components/Posts/PostComment'\nimport SendIcon from '@/components/Icons/SendIcon'\nimport moment from 'moment'\nimport axios from \"axios\"\nexport default {\n    name:'Post',\n    props:{\n        post:{\n            type:Object,\n            require:true\n        },\n        state:{\n            type:String,\n            require:false,\n            default:'view'\n        }\n    },\n    components:{\n        ImageView,\n        PostDescription,\n        PostTitle,\n        PostFooter,\n        PostAuthorInfo,\n        PostComment,\n        SendIcon\n    },\n  created() {\n    axios.interceptors.request.use(\n      (config) => {\n        this.setLoading(true);\n        this.config = config;\n        return config;\n      },\n      (error) => {\n        this.setLoading(false);\n        return Promise.reject(error);\n      }\n    );\n\n    axios.interceptors.response.use(\n      (response) => {\n        this.setLoading(false);\n        this.res = response;\n        return response;\n      },\n      (error) => {\n        this.setLoading(false);\n        return Promise.reject(error);\n      }\n    );\n  },\n    data(){\n        return{\n            placeholder:'write your comment here :) ...',\n            comment:'',\n            showAreaComment:false,\n            refCount: 0,\n            isLoading: false,\n            config: null,\n            res: null,\n        }\n    },\n    computed:{\n        dateOfPost(){\n            return moment(this.post.created_at).format('DD-MM-YY, hh:mm')\n        },\n        user(){\n            return this.$store.getters.getCurrentUser\n        }\n        \n    },\n    methods:{\n        toogleAreaComment(){\n            this.showAreaComment=!this.showAreaComment\n        },\n        addComment(){\n            if(this.comment==='') return \n            const data = {\n                post_id: this.$props.post.id,\n                body:this.comment,\n            }\n            this.comment=''\n            this.$store.dispatch('addCommentPost',data);\n        },\n        isAuthors(comment){\n            console.log('comment ----',comment)\n            if( comment.user.id === this.user.id) return 'isUser'\n            else return ''\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n    .post{\n        margin-top: 2rem;\n        padding-bottom: 0 !important;/* \n        box-shadow: 3px 8px 34px 2px rgba(44, 62, 80, 0.080); */\n        border-radius:5px;\n        display: flex;\n        flex-direction: column;\n        border: 1px solid #d1d8e0;\n\n\n        .info{\n            margin-top:0.5rem ;\n            padding:0.1rem;\n            &:first-child{\n                padding: 1rem;\n            }\n        }\n\n        .footer{\n            height: 35px;\n            padding: 2px;\n        }\n\n        .comments{\n            border: 1px solid rgba(7, 7, 7, 0.116);\n            border-radius: 5px;\n            max-height: 300px;\n            min-height: 80px;\n            overflow: hidden;\n            width: 100%;\n            margin-top: 30px;\n\n\n            .listPostComment{\n                width: 100%;\n                min-height: 50px;\n                max-height: 270px;\n                overflow-y:auto;\n\n                \n            }\n            \n            .form{\n                display: flex;\n                justify-content: start;\n                height: 30px;\n                align-items: center;\n\n                .textarea{\n                    padding-left: 1rem;\n                    padding-top:1px;\n                    padding-bottom:1px;\n                    padding-right:1px;\n                    width: calc(100% - 30px);\n                    height: 30px;\n                    min-height: 30px;\n                    max-height: 30px;\n                    border:1px solid rgba(0, 0, 0, 0.103);\n                    font-family: 'Hind Siliguri', sans-serif;\n                    outline: none;\n                }\n                .Send{\n                    height: 30px;\n                    width: 30px;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    background: rgba(0, 0, 0, 0.103);\n\n                }\n            }\n\n        }\n\n    }\n</style>"]}]}